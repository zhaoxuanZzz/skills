# 提示词反模式 (Anti-Patterns)

应该避免的常见错误提示词做法。

## 1. 雾件模式 (Vague Pattern)

❌ **问题**:
```
"写一篇关于营销的文章"
```

为什么这很糟糕：
- AI不知道什么是"好"
- 什么长度？
- 什么受众？
- 文章的目的是什么？

🔧 **修复**:
```
为初级创业者写1500字的文章，解释如何建立一个产品发布营销活动。
包含3个真实案例和一个清单。
调用和简洁，避免营销术语。
```

---

## 2. 假设知识的反模式 (Assumption of Knowledge)

❌ **问题**:
```
"添加缓冲区到我的数据库查询"
```

为什么不好：
- AI不知道你的系统
- 什么类型的缓冲？（内存、磁盘、应用级别）
- 多大的缓冲？
- 什么样的性能目标？

🔧 **修复**:
```
我有一个PostgreSQL数据库，处理10K请求/秒的用户账户数据。
我看到数据库连接上的热点。
建议一个缓存层（Redis、memcached等）与概念图和实现步骤。
```

---

## 3. 相互矛盾的指令 (Contradictory Instructions)

❌ **问题**:
```
"写一个简洁但全面的指南
保持简短但包括所有信息
避免专业术语但要准确"
```

为什么不好：
- 冲突的约束
- AI必须选择优先级
- 所有方向都无法同时满足

🔧 **修复**:
```
写一个5页的技术指南（优先级：完整性）
目标受众：有5年经验的开发者
平衡（简洁+详细）：假设熟悉基础概念，解释高级选项
使用技术术语，但在第一次使用时定义它们
```

---

## 4. 缺失背景的反模式 (Missing Context)

❌ **问题**:
```
"这个代码好吗？"
```

为什么不好：
- AI不知道目标
- 什么标准？（性能、可读性、安全性）
- 代码的限制是什么？
- 这是生产还是原型？

🔧 **修复**:
```
审查这个React组件以确保：
- 性能（应该处理列表中的10K项）
- 可读性（初级开发者应该理解）
- 安全性（处理用户输入）
- 维护性（未来的更新）

上下文：这是电子商务网站的产品列表筛选
```

---

## 5. 过度指定的反模式 (Over-Specification)

❌ **问题**:
```
"根据以下15条规则，考虑这些72个参数，遵循这些特定的约束...
注意标点符号，空格，资本化，缩进..."
```

为什么不好：
- 过多的信息压倒了核心任务
- AI关注小细节
- 提示词太长而笨重

🔧 **修复**:
```
创建客户交流电子邮件。
关键要求：在第一句中说出利益，包括CTA，讨论专题
格式：HTML电子邮件模板，包含[NAME]和[CTA_LINK]占位符
```

---

## 6. 单一示例的反模式 (Single Example)

❌ **问题**:
```
"按这个格式返回数据：
输入: 一个数字
输出: 这个数字的平方"
```

为什么不好：
- 单个示例可能太具体
- AI可能无法推广到其他输入
- 没有显示范围或边界情况

🔧 **修复**:
```
按这个格式返回数据：

示例1:
输入: 5
输出: 25

示例2:
输入: -3
输出: 9

示例3:
输入: 0
输出: 0

输入范围: -1000 到 1000的整数
边界: 零和负数应该给出正结果
```

---

## 7. 缺失验证的反模式 (Missing Validation)

❌ **问题**:
```
"提取发票数据"
[没有说明如何验证]
```

为什么不好：
- AI可能返回无格式的数据
- 没有错误处理
- 没有数据质量检查

🔧 **修复**:
```
按JSON格式提取发票数据：

{
  "invoice_number": "string或null",
  "date": "YYYY-MM-DD或null",
  "total": "数字或null"
}

验证规则：
- 日期必须是有效的YYYY-MM-DD格式
- 总额必须是正数
- 如果任何字段缺失，返回null而不是猜测

示例错误处理：
```json
{
  "invoice_number": "INV-123",
  "date": null,
  "total": null,
  "error": "缺少日期和总额"
}
```
```

---

## 8. 没有成功标准的反模式 (No Success Criteria)

❌ **问题**:
```
"改进这个代码"
```

为什么不好：
- "改进"是相对的
- AI不知道优化什么
- 可能会以错误的方式改进

🔧 **修复**:
```
改进这个代码为了：
✅ 性能（应该运行快2倍）
✅ 可读性（初级开发者应该理解）
✅ 安全性（应该通过OWASP检查）
❌ 特征（不要添加新功能）
```

---

## 9. 过于宽泛的反模式 (Too Broad Scope)

❌ **问题**:
```
"帮我创建一个完整的应用程序：
前端、后端、数据库、部署、监控、文档"
```

为什么不好：
- 太宽泛无法有效处理
- 每个部分都需要不同的深度
- AI会做表面工作

🔧 **修复**:
```
创建后端API的数据库架构：
技术栈：PostgreSQL, Node.js
实体：用户、文章、评论
关系：用户→1多文章、文章→多评论
首先关注：用户和文章表（1.0版本）

不包括：前端、部署、监控
```

---

## 10. 模糊的"这样的"引用 (Vague "Like This" Reference)

❌ **问题**:
```
"写一个这样的博客文章"
[指向一篇文章]
```

为什么不好：
- 不清楚AI应该模仿什么
- 风格？长度？结构？论点？
- 参考文章可能有AI不应该复制的特性

🔧 **修复**:
```
写一个博客文章，模仿 [文章] 的以下方面：
✅ 结构（简介→3个要点→结论）
✅ 风格（对话、故事驱动）
❌ 长度（写800字，而不是他们的2000字）
❌ 特定观点（写通用建议，不是他们的个人观点）
```

---

## 11. 冲突的角色 (Conflicting Roles)

❌ **问题**:
```
"你是一个艺术家
你是一个工程师
你是一个营销人员
给我一个产品想法"
```

为什么不好：
- 多个角色有冲突的优先级
- AI不知道哪个角色优先
- 可能会得到混合结果

🔧 **修复**:
```
你是一个产品经理，穿着：
- 艺术家的审美眼光
- 工程师的可行性意识
- 营销人员的受众理解

给我一个产品想法，平衡：
艺术性 + 技术可行性 + 市场吸引力
```

---

## 12. 指令与示例不一致 (Instruction-Example Mismatch)

❌ **问题**:
```
"创建简洁的标题"

示例:
输入: 一个想法
输出: 一个有10个单词的详细标题及其完整解释
```

为什么不好：
- 指令说"简洁"
- 示例显示"详细"
- AI会跟随示例，忽略指令

🔧 **修复**:
```
创建简洁的标题（最多5个单词）

示例:
输入: "关于AI在医疗中的伦理的想法"
输出: "AI医疗伦理的权衡"
```

---

## 常见错误的快速检查

| 错误 | 迹象 | 快速修复 |
|-----|-----|--------|
| 太模糊 | AI请求澄清 | 添加具体示例 |
| 信息太多 | AI关注错误的部分 | 优先级并删除不需要的内容 |
| 假设知识 | 输出不相关 | 添加背景和上下文 |
| 冲突的约束 | 输出不一致 | 清除优先级 |
| 缺失验证 | 无法使用输出 | 添加成功标准 |
| 无示例 | 格式错误 | 添加2-3个示例 |
| 太广泛 | 肤浅的结果 | 缩小范围或分解任务 |
| 冲突的角色 | 混合结果 | 定义单一清晰的角色 |

---

## 修复反模式的过程

### 第1步：识别症状

当您看到这些症状，请检查反模式：

- ✅ **AI请求澄清** → 你的提示词太模糊
- ✅ **结果不一致** → 约束冲突或缺失背景
- ✅ **完全错误的答案** → AI误解了任务或缺失背景
- ✅ **格式错误** → 缺失或不明确的输出格式指导
- ✅ **表面提示** → 范围太广或指令不清

### 第2步：诊断问题

问自己：
1. 我是否明确说过**什么**应该被创建？
2. 我是否解释了**为什么**？
3. 我是否给了**例子**？
4. 我是否设置了**约束**？
5. 我是否定义了**成功**？

### 第3步：应用修复

使用本文中的修复来改进您的提示词。

### 第4步：测试和迭代

用相同的输入再测试一次。改进了吗？

---

## 常见反模式组合

有时候多个反模式一起出现：

❌ **组合1: 模糊 + 无背景 + 无示例**
```
"优化这个系统"
```
🔧 修复：添加背景、缩小范围、包括示例

❌ **组合2: 矛盾 + 过度指定 + 冲突角色**
```
"以简洁专业的创意方式快速写一个长详细的指南..."
```
🔧 修复：优先级、删除冗余、识别单个角色

❌ **组合3: 假设知识 + 无验证 + 缺失背景**
```
"添加缓存和处理errors"
```
🔧 修复：解释系统、定义错误类型、给出示例

---

## 最后的话：调试你的提示词

当结果不好时，**不要责备AI**。

采用这个心态：
❌ "AI不理解我的意思"  
✅ "我的提示词不够清楚"

然后参考这个列表找出反模式并修复它。

大多数时候，**更好的提示词 = 更好的结果**。

