# 工具特定提示词 (Tools-Specific Prompts)

为不同AI工具和平台优化的提示词写作指南。

## 1. ChatGPT / OpenAI 模型

### 模型特性
- ✅ 支持长文本（在上下文限制内）
- ✅ 强大的推理和代码生成
- ✅ 支持JSON模式（GPT-4 Turbo+）
- ✅ 函数调用支持

### 优化的提示词特征

**利用消息历史**:
```
[系统]: 你是一个代码审查专家
[用户]: 这是我的函数
[助手]: [代码审查]
[用户]: 如何改进错误处理？
[助手]: [改进的审查]
```

**使用结构化输出**:
```
你是一个JSON生成器。
仅返回有效的JSON，没有其他文本。

返回这个结构:
{
  "field1": "type",
  "field2": "type"
}
```

### 最佳实践
- 运用思维链提高复杂任务的准确性
- 使用"你是..."定义角色，利用知识
- 在长文本中使用清单和编号
- 要求逐步工作增加可靠性

### 例子
```
你是一个高级Python开发者。

请审查这个函数:
[代码]

按顺序审查:
1. 优化机会
2. 安全问题  
3. 错误处理缺陷
4. 建议改进

返回结构:
## 优化
[列表]
## 安全
[列表]
等等
```

---

## 2. Claude (Anthropic)

### 模型特性
- ✅ 200K上下文窗口
- ✅ 强大的宪法AI价值观
- ✅ 优秀的长文档处理
- ✅ 能够拒绝不适当的请求

### 优化的提示词特征

**使用长文档**:
```
以下是一份完整的代码库：
[大量代码]

基于上下文分析...
[问题]
```

**强调伦理考虑**:
```
我需要你帮助我[任务]，同时确保：
- 用户隐私得到尊重
- 信息准确可验证
- 不会造成伤害

具体来说...
```

**清晰的约束**:
```
完成此任务，但请：
- 不要做[X]
- 避免[Y]  
- 确保[Z]

原因是...
```

### 最佳实践
- 对长上下文利用完整文档
- 清楚地表达伦理和安全考虑
- Claude尊重"有帮助、无害、诚实"的原则
- 明确要求检查事实准确性

### 例子
```
我需要创建关于气候变化的教育内容。

要求：
- 基于科学共识（IPCC报告）
- 呈现多个观点但清楚地说明证据
- 避免耸人听闻的语言
- 适合高中生

[额外背景和上下文]

请创建大纲和前两个部分。
```

---

## 3. Google Gemini

### 模型特性
- ✅ 多模态（文本、图像、代码）
- ✅ 实时网络访问（某些版本）
- ✅ 图像生成能力
- ✅ 强大的代码执行

### 优化的提示词特征

**利用多模态**:
```
请分析这个图像：
[图像]

我也有这个数据：
[数据]

结合来源，给我...
```

**指定输出格式**:
```
按这个格式返回：
- H2标题用于章节
- 列表用于要点
- 代码块用于示例

确保足够的细节用于[特定目的]
```

**利用代码执行**:
```
请执行此代码来计算...
[代码]

然后基于结果，解释...
```

### 最佳实践
- 为多模态输入优化提示词
- 清楚地指定格式要求
- 利用代码执行来验证计算
- 要求实时信息时明确说明

### 例子
```
我上传了一个产品截图。
请：
1. 分析UI/UX
2. 比较我提供的竞争对手截图
3. 推荐改进

代码执行：计算[指标]
```

---

## 4. 编程特定（GitHub Copilot, Tabnine）

### 模型特性
- ✅ 代码上下文感知
- ✅ 支持多种语言
- ✅ 与IDE集成
- ✅ 基于项目上下文

### 优化的提示词特征

**包括语言和框架**:
```
# Python (Flask) API端点

创建一个POST端点来处理[action]
要求[requirements]
```

**注释为提示词**:
```
# TODO: 实现错误处理
# 它应该捕获[exceptions]
# 并返回[format]

def handle_error():
    # 生成代码在这里
```

**包括上下文注释**:
```
# 这个函数被前端调用为...
# 它应该返回JSON格式：...
# 框架: React hooks, TypeScript

const MyComponent = () => {
  // 生成代码
}
```

### 最佳实践
- 在注释中包括明确的需求
- 指定语言和版本
- 展示上下文和预期的使用方式
- 使用TODO注释引导代码生成

### 例子
```
// TypeScript (React)
// Component处理用户认证
// 应该：
// - 验证email和密码
// - 返回包含令牌的JSON
// - 处理错误状态
// 集成OpenAI API调用

interface LoginProps {
  onSuccess: (token: string) => void;
}

export const LoginButton: React.FC<LoginProps> = ({ onSuccess }) => {
  // 生成代码在这里
}
```

---

## 5. 搜索引擎（Perplexity, SearchGPT）

### 模型特性
- ✅ 实时网络搜索
- ✅ 引用来源
- ✅ 事实检查能力
- ✅ 当前信息访问

### 优化的提示词特征

**要求最近信息**:
```
搜索2024年的最新信息关于...

请首先搜索[特定查询]
然后综合结果...
```

**要求来源**:
```
关于[话题]请告诉我...

为每个声明列出来源。
优先考虑：
1. 官方来源
2. 同行评审的研究  
3. 权威新闻
```

**事实检查要求**:
```
声称：[声称]

请验证这是否真实。
搜索证据和反证据。
返回您的评估。
```

### 最佳实践
- 明确要求最近的信息和搜索
- 要求列出来源和链接
- 要求事实检查和验证
- 指定可接受的来源类型

### 例子
```
2024年人工智能的最新突破是什么？

请：
1. 搜索过去3个月发生的事
2. 列出每个突破及其来源
3. 解释为什么它们重要

只包括来自官方公司公告或同行评审研究的信息。
```

---

## 6. 代码执行工具（Jupyter, Replit, Cursor）

### 模型特性
- ✅ 代码实时执行
- ✅ 结果验证
- ✅ 数据可视化
- ✅ 交互式开发

### 优化的提示词特征

**包括所有依赖**:
```python
# 安装依赖：pandas, numpy, matplotlib

import pandas as pd
import numpy as np

# 任务：[任务]
# 应该输出...

# 代码在这里
```

**指定数据格式**:
```
# 输入：CSV文件
# 列：[column1], [column2], [column3]
# 行数：~1000

# 任务：分析...
# 输出格式：图表 + 统计

# 代码在这里
```

**包括验证步骤**:
```python
# 验证基础：
assert len(data) == 1000
assert 'expected_column' in data.columns

# 主任务代码...

# 验证输出：
print(f"输出长度：{len(results)}")
assert all(results > 0)  # 例子检查
```

### 最佳实践
- 清楚地指定所有库和版本
- 包括数据格式和大小
- 添加验证和检查
- 要求可视化和数据输出

### 例子
```python
# 使用pandas, numpy, matplotlib, scipy

# 任务：从CSV分析销售数据
# 数据格式：date, product, amount, region
# 结果：
# 1. 按地区的总收入表格
# 2. 越来越趋势图表
# 3. 统计摘要（均值、标准差）

# 验证步骤包含在代码中
```

---

## 7. 图像生成（DALL-E, Midjourney, Stable Diffusion）

### 模型特性
- ✅ 视觉创意
- ✅ 风格适配
- ✅ 详细控制（某些版本）
- ✅ 修改和变体

### 优化的提示词特征

**风格指定**:
```
创建一个[对象]的图像：

风格：[艺术风格]
（例如：摄影、油画、赛博朋克、极简主义）
```

**详细的视觉描述**:
```
[对象]，[颜色和质地]，[背景]，[照明]
[情绪/气氛]，[视角/角度]
```

**负面提示词**:
```
创建[什么]
排除[什么不想要]
（例如：排除文本、排除变形、排除低质量）
```

### 最佳实践
- 提供具体的风格指导
- 使用描述性语言而非仅名词
- 指定排除的内容（负面提示）
- 包括关键的视觉元素

### 例子

**Midjourney格式**:
```
未来的城市景观，霓虹灯蓝色和紫色，
夜间，从大楼顶部的角度看
气氛：神秘、宁静
摄影风格
--ar 16:9 --style raw
```

**稳定扩散格式**:
```
prompt: 专业产品摄影，iPhone 15，
白色背景，柔光，高端工业设计

negative_prompt: 文本、低质、变形、虚弱、模糊
```

---

## 8. API中的系统提示词（LangChain, LLamaIndex）

### 模型特性
- ✅ 完全可定制系统提示
- ✅ 参数化提示词
- ✅ 链式调用
- ✅ 与数据库集成

### 优化的提示词特征

**参数化**:
```python
system_prompt = """
你是一个{role}专家，有{years}年的经验。
当被问及{topic}时，{action}。

始终：
- {constraint1}
- {constraint2}
"""

# 使用方式：
prompt = system_prompt.format(
    role="产品经理",
    years=10,
    topic="优先级",
    action="要求澄清业务影响",
    constraint1="提供框架",
    constraint2="提出3个选项"
)
```

**链式调用**:
```python
chain = [
    {"role": "system", "content": "你是一个数据分析师"},
    {"role": "user", "content": "分析这个数据..."},
    # 这个回复成为下一个的输入
    get_followup_questions(),
    # 继续链...
]
```

**带上下文注入**:
```python
system = """
你是一个帮助系统。
可用的文档：{documents}
用户背景：{user_context}

基于上面的背景回答问题。
"""

response = model.call(
    system_prompt=system.format(
        documents=loaded_docs,
        user_context=user_data
    ),
    user_message=query
)
```

### 最佳实践
- 使用参数化处理变体
- 为不同用例创建提示词模板
- 从数据库或上下文注入信息
- 版本化和测试提示词

### 例子
```python
# 提示词模板
CUSTOMER_SERVICE_PROMPT = """
你是一个帮助客户的支持代理，有访问：
- 客户历史：{customer_history}
- 政策数据库：{policies}
- 常见问题解决方案：{faq}

用户说：{user_message}

回应应该：
- 个性化到{customer_name}
- 参考相关政策
- 如果相关，提供常见问题链接
- 保持专业但友好
"""

# 使用
response = client.chat.completions.create(
    system_prompt=CUSTOMER_SERVICE_PROMPT.format(
        customer_history=get_customer_data(user_id),
        policies=load_policies(),
        faq=load_faq(),
        customer_name=user_name,
        user_message=message
    )
)
```

---

## 快速参考：按工具选择提示词样式

| 工具 | 最佳特性 | 避免 |
|-----|--------|------|
| **ChatGPT** | 思维链、长文本、结构化输出 | 非常长的上下文 |
| **Claude** | 长文档、伦理考虑、详细分析 | 代码执行 |
| **Gemini** | 多模态、实时、代码执行 | 仅文本长文档 |
| **Copilot** | 代码注释、项目上下文 | 模糊需求 |
| **搜索工具** | 最近信息、来源、事实检查 | 过时数据 |
| **代码执行** | 验证、可视化、依赖指定 | 不完整的参数 |
| **图像生成** | 详细风格、负面提示 | 模糊或过于具体 |
| **API/链** | 参数化、上下文注入 | 硬编码值 |

---

## 跨工具最佳实践

不管工具如何，这些原则都适用：

✅ **清晰的目标** - 你需要什么
✅ **具体的约束** - 限制和边界
✅ **示例** - 展示格式
✅ **背景** - 为什么这很重要
✅ **测试** - 验证输出

